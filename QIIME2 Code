QIIME2 Code

# Create a directory for your project and navigate to it
# Feel free to change the working directory from data to something else
mkdir /data/deer_project2
cd /data/deer_project2

# Import data & demultiplex using the mainfest file while working directory is `/data/deer_project2`
qiime tools import \
  --type "SampleData[SequencesWithQuality]" \
  --input-format SingleEndFastqManifestPhred33V2 \
  --input-path /datasets/project_2/prion/deer2_manifest.tsv \
  --output-path demux.qza

# Look at artifact information
qiime tools peek demux.qza

# Create visualization of demultiplexed samples
qiime demux summarize \
  --i-data demux.qza \
  --o-visualization demux.qzv

# Make directory in home directory on LOCAL machine
mkdir deer_project2
cd deer_project2

# Copy file
scp root@10.19.139.157:/data/deer_project2/demux.qzv . # Include period!!!

# Once you have the demux.qzv file, send it to Evelyn to confirm trimming before moving forward!

# Determine ASVs with DADA2 with chosen left and right trimming parameters!
qiime dada2 denoise-single \
  --i-demultiplexed-seqs demux.qza \
  --p-trim-left X \
  --p-trunc-len XXX \
  --o-representative-sequences rep-seqs.qza \
  --o-table table.qza \
  --o-denoising-stats stats.qza

# Visualize ASVs stats
qiime feature-table summarize \
  --i-table table.qza \
  --o-visualization table.qzv \
  --m-sample-metadata-file /datasets/project_2/prion/deer2_metadata.tsv
  
qiime feature-table tabulate-seqs \
  --i-data rep-seqs.qza \
  --o-visualization rep-seqs.qzv
